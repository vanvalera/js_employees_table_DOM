function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var t=document.createElement("form");t.classList.add("new-employee-form");var n=document.querySelector("body");n.append(t);var r=document.querySelector("table"),a=r.querySelector("thead"),o=r.querySelector("tbody"),i=null,l="asc";t.insertAdjacentHTML("afterbegin",'<button type="submit">Save to table</button>'),t.insertAdjacentHTML("afterbegin",'\n  <label>\n    Salary:\n    <input name="salary" data-qa="salary" type="number" required>\n  </label>\n'),t.insertAdjacentHTML("afterbegin",'<label>Age: <input name="age" data-qa="age" type="number" required></label>'),t.insertAdjacentHTML("afterbegin",'<label>Office: <select name=\'office\' data-qa=\'office\'> <option value="Tokyo">Tokyo</option>\n  <option value="Singapore">Singapore</option>\n  <option value="London">London</option>\n  <option value="New York">New York</option>\n  <option value="Edinburgh">Edinburgh</option>\n  <option value="San Francisco">San Francisco</option></select></label>'),t.insertAdjacentHTML("afterbegin",'\n  <label>\n    Position:\n    <input name="position" data-qa="position" type="text">\n  </label>\n'),t.insertAdjacentHTML("afterbegin",'\n  <label>\n    Name:\n    <input name="name" data-qa="name" type="text" required>\n  </label>\n'),t.addEventListener("submit",function(e){e.preventDefault();var r=t.querySelector('input[name="name"]'),a=t.querySelector('input[name="age"]'),i=t.querySelector('input[name="position"]'),l=t.querySelector('select[name="office"]'),c=t.querySelector('input[name="salary"]');document.querySelectorAll(".notification").forEach(function(e){return e.remove()});var u=!1,s=!1;if(r.value.length<4){var d=document.createElement("div");d.classList.add("notification","error","title"),d.setAttribute("data-qa","notification"),d.textContent="Error, name must be minimum 4 letters",n.append(d),setTimeout(function(){d.remove()},2e3),u=!0}if(!u&&(a.value<18||a.value>90)){var m=document.createElement("div");m.classList.add("notification","error","title"),m.setAttribute("data-qa","notification"),m.textContent="Error, age must be 18-90 years",n.append(m),setTimeout(function(){m.remove()},2e3),s=!0}var f=!i.value.trim(),p=!l.value,v=c.value<=0||isNaN(c.value);if(f&&!u&&!s){var y=document.createElement("div");y.classList.add("notification","error","title"),y.setAttribute("data-qa","notification"),y.textContent="Error, position is required",n.append(y),setTimeout(function(){y.remove()},2e3)}if(!f&&!p&&!v&&!u&&!s){var b,g=document.createElement("div");g.classList.add("notification","success","title"),g.setAttribute("data-qa","notification"),g.textContent="Success! All fields are correctly filled and submitted.",n.append(g),setTimeout(function(){g.remove()},2e3);var S=o.insertRow();S.insertCell().textContent=r.value,S.insertCell().textContent=i.value,S.insertCell().textContent=l.value,S.insertCell().textContent=a.value,S.insertCell().textContent=(b=c.value,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(b)),t.reset()}}),a.addEventListener("click",function(t){var n=t.target,r=Array.from(n.parentElement.children).indexOf(n);if(!(r<0)){r===i?l="asc"===l?"desc":"asc":(i=r,l="asc");var c=Array.from(o.querySelectorAll("tr")).sort(function(e,t){var n=e.cells[r].textContent.trim(),a=t.cells[r].textContent.trim();switch(r){case 0:case 1:case 2:return n.localeCompare(a);case 3:return+n-+a;case 4:return parseFloat(n.replace(/[^0-9.-]+/g,""))-parseFloat(a.replace(/[^0-9.-]+/g,""));default:return 0}});"desc"===l&&c.reverse(),o.innerHTML="",o.append.apply(o,function(t){if(Array.isArray(t))return e(t)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a.querySelectorAll("th").forEach(function(e,t){e.classList.toggle("active",t===i)})}}),o.addEventListener("click",function(e){var t=e.target.closest("tr");t&&(o.querySelectorAll("tr").forEach(function(e){return e.classList.remove("active")}),t.classList.add("active"))});
//# sourceMappingURL=index.1aaf8ca0.js.map
